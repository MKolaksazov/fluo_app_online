<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fluo App - Register</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058R>
      <link rel='stylesheet' href="https://bootswatch.com/4/yeti/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">
          <link rel="stylesheet" href="glass.css">
            <link rel="stylesheet" href="dropdown.css">
        <link
            rel="stylesheet"
            href="https://pyscript.net/snapshots/2024.9.2/core.css"
        />

<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  .register-container { max-width: 400px; margin: auto; }
  label { display: block; margin-top: 10px; }
  input[type="text"], input[type="email"], input[type="password"] { width: 100%; padding: 8px; margin-top: 5px; }
  button { margin-top: 15px; padding: 10px 15px; }
footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #eee;
    text-align: center;
}
</style>
</head>
<body>
  <div class="register-container">
    <h2>Fluo App Registration</h2>
    <form id="registerForm">
      <label for="username">Username</label>
      <input type="text" id="username" class="form-control" required>
      <label for="email">Email</label>
      <input type="email" id="email" class="form-control" required>
      <label for="password">Password</label>
      <input type="password" id="password" class="form-control" required>
      <button type="submit" class="btn aqua" >Register</button>
    </form>
    <p>Already have an account? <a href="login.html">Login here</a></p>
    <div id="message" style="color:red; margin-top:10px;"></div>
  </div>
              <footer class="mt-auto" id="f-text" style="text-align: center; background: #eee;"></hr>
              <!--p> To make use of the downloaded CSV files you should first have the encryption file, which can be found <a id="href" href="targetUrl">here</a> </p-->
                <span style="float: left; visibility: hidden;">... </span><span style="float: left;">FLUO APP 2024-2026</span><span>author: M. Kolaksazov, PhD <a href="mailto:m.kolaksazov@gmail.com">m.kolaksazov@gmail.com</a></span>
<p>
                <span>Built by means of: <a href="https://vanilla.js.org">Vanilla JS</a></span>
                <span>Graphic visualisation: <a href="https://www.chartjs.org">Chart.js</a></span>
                <span>Built on: <a href="https://nodejs.org">Node.js</a></span>
                <span>Framework: <a href="https://expressjs.com">Express.js</a></span>
                <span>Database: <a href="https://www.postgresql.org">PostgreSQL</a></span>
                <span>Hosted on: <a href="https://render.com">Render.com</a></span> 
                <span>AI models/instruments used in the development: <a href="https://chatgpt.com">ChatGPT</a></span> 
                <span>, <a href="https://gemini.google.com">Gemini</a></span>
                <span>, <a href="https://claude.ai">Claude.ai</a></span> 
                <span>Statistics developed on: <a href="https://colab.google">Google Colab</a></span> 
</p> 
              </footer>

<script>
const registerForm = document.getElementById('registerForm');
const message = document.getElementById('message');

registerForm.addEventListener('submit', async (e) => {
  e.preventDefault();
  const username = document.getElementById('username').value;
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  try {
    const res = await fetch('/api/auth/register', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username, email, password })
    });
    const data = await res.json();
    if (res.ok) {
      alert('Registration successful! You can now login.');
      window.location.href = 'login.html';
    } else {
      message.textContent = data.error;
    }
  } catch (err) {
    message.textContent = 'Server error';
  }
});
</script>
</body>
</html>
